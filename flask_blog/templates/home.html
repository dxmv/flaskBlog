{% extends "template.html" %}


{% block body %}
    <main class="container-xxl">
      <p class="h3 mb-5">Blogs</p>
      <div class="row">
        <div class="col-10">
          {% for post in posts %}
          <div class="shadow p-3 mb-3 bg-body rounded" id="blog" onclick="handleBlogClick">
            <div class="d-flex flex-row justify-content-between align-items-center">
              <p class="h5">{{post.title}}</p>
              <div class="d-flex">
                <img src="/static/images/{{post.user.picture}}" id="navBarImage" class="mx-2"/>
                <p class="lead">{{post.user.username}}</p>
              </div>
            </div>
            <div>
              {{post.text | truncate(250)}}
            </div>
            <hr class="mb-3">
            <div class="d-flex justify-content-between align-items-center">
              <a href="/{{post.id}}" class="btn btn-outline-info">Show more</a>
              <p class="text-primary">{{post.date}}</p>
            </div>
          </div>
          {% endfor %}
        </div>
        <div class="col-2">
          <ul class="list-group">
            <li class="list-group-item disabled">Sorting</li>
            <a class="link" href="/?sort=oldest" style="text-decoration:none;">
              {% if sort=="oldest"%}
              <li class="list-group-item active">Oldest blogs</li>
              {% else %}
              <li class="list-group-item">Oldest blogs</li>
              {% endif %}
            </a>
            <a class="link" href="/?sort=latest" style="text-decoration:none;">
              {% if sort=="latest"%}
              <li class="list-group-item active">Latest blogs</li>
              {% else %}
              <li class="list-group-item">Latest blogs</li>
              {% endif %}</a>
            <a class="link" href="/?sort=alphabetically" style="text-decoration:none;">
              {% if sort=="alphabetically" %}
              <li class="list-group-item active">Alphabetically</li>
              {% else %}
              <li class="list-group-item">Alphabetically</li>
              {% endif %}</a>
            </a>
          </ul>
        </div>
      </div>
    </main>

{% endblock %}